!function(){"use strict";class t{constructor(){this.oldPosition=null}moving(){document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelectorAll(".cell");setInterval((()=>{null!==this.oldPosition&&t[this.oldPosition].classList.remove("active");const s=Math.floor(Math.random()*t.length),i=t[s];this.oldPosition=s,i.classList.add("active")}),1e3)}))}}const s=new class{constructor(){this.container=null}draw(t,s,i){this.container=document.getElementById("game-container");const e=`\n              <h1 class="title">Слови гоблина</h1>\n              <div class="control">\n                <div class="slain-goblins">\n                  Убито гоблинов:\n                  <span>${s}</span>\n                </div>\n                <div class="slips">\n                  Всего промахов:\n                  <span>${i}</span>\n                </div>\n              </div>\n              <div data-id="board" class="board"> </div>\n          `;this.container.insertAdjacentHTML("beforeend",e),this.board=document.querySelector(".board");for(let s=0;s<t**2;s+=1){const t=document.createElement("div");t.classList.add("cell"),t.dataset.id=s,this.board.append(t)}}},i=new class{constructor(t){this.board=t,this.boardSize=4,this.hitCounter=0,this.missCounter=0}init(){this.board.draw(this.boardSize,this.hitCounter,this.missCounter),(new t).moving(),this.cells=document.querySelector(".board"),this.cells.addEventListener("click",this.onBoardClick.bind(this))}onBoardClick(t){t.preventDefault(),this.slainGoblins=document.querySelector(".slain-goblins > span"),this.slips=document.querySelector(".slips > span"),t.target.classList.contains("active")?(t.target.classList.remove("active"),t.target.classList.add("color-active"),this.hitCounter+=1,this.slainGoblins.textContent=this.hitCounter,setTimeout((()=>t.target.classList.remove("color-active")),200)):t.target.classList.contains("active")||(this.missCounter+=1,this.slips.textContent=this.missCounter),this.hitCounter>=10&&(this.resetScore(),alert("Вы победили!")),this.missCounter>=5&&(this.resetScore(),alert("Вы проиграли!"))}resetScore(){this.hitCounter=0,this.missCounter=0,this.slainGoblins.textContent=this.hitCounter,this.slips.textContent=this.missCounter}}(s);i.init()}();